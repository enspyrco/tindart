appId: co.enspyr.tindart
---
# Screenshot flow for App Store and Play Store
# Run with: maestro test .maestro/screenshots.yaml
#
# Requires: App built with --dart-define=USE_FIREBASE_EMULATOR=true
# and Firebase emulators running with test user created.

# Launch app and wait for home screen (menu button visible = ready)
- launchApp
- extendedWaitUntil:
    visible: "menu.*"
    timeout: 30000

# 1. Home screen with cards
- takeScreenshot: screenshots/01_home_screen

# 2. Double tap to flip card (show card back with metadata)
- doubleTapOn:
    point: "50%,50%"
- waitForAnimationToEnd
- takeScreenshot: screenshots/02_card_back

# 3. Tap menu button (using accessibility label regex)
# Disable retry to prevent double-tap selecting first menu item
- tapOn:
    text: "menu.*"
    retryTapIfNoChange: false
- waitForAnimationToEnd
- takeScreenshot: screenshots/03_menu_open

# 4. Tap "Find Similar" menu item
- tapOn: "Find Similar"
- waitForAnimationToEnd
- takeScreenshot: screenshots/04_find_similar

# 5. Close the sheet and go back
- pressKey: back
- waitForAnimationToEnd

# 6. Double tap to flip back to front
- doubleTapOn:
    point: "50%,50%"
- waitForAnimationToEnd

# 7. Swipe right to show like action
- swipe:
    direction: RIGHT
    duration: 500
- waitForAnimationToEnd
- takeScreenshot: screenshots/05_swipe_right
